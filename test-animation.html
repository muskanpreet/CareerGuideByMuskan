<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animation Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 50px;
            background: #f0f0f0;
        }
        .test-stat {
            font-size: 3rem;
            font-weight: bold;
            color: #2563eb;
            margin: 20px 0;
        }
        .message {
            padding: 20px;
            background: white;
            border-radius: 8px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Counter Animation Test</h1>
    <div class="message">
        <p>The numbers below should animate from 0 to their target values:</p>
    </div>
    
    <div class="test-stat" id="stat1">100+</div>
    <div class="test-stat" id="stat2">500+</div>
    <div class="test-stat" id="stat3">4.9/5</div>
    
    <div class="message" id="log"></div>

    <script>
        const log = document.getElementById('log');
        log.innerHTML = '<strong>Console Log:</strong><br>';
        
        function addLog(msg) {
            log.innerHTML += msg + '<br>';
            console.log(msg);
        }

        addLog('Script loaded');

        function animateCounters() {
            const stats = document.querySelectorAll('.test-stat');
            addLog('Found ' + stats.length + ' stats to animate');
            
            stats.forEach((stat, index) => {
                const originalText = stat.textContent.trim();
                addLog('Animating stat ' + index + ': ' + originalText);
                
                const isRating = originalText.includes('/');
                let finalValue;
                
                if (isRating) {
                    finalValue = parseFloat(originalText.split('/')[0]);
                } else {
                    finalValue = parseInt(originalText.replace('+', ''));
                }
                
                let current = 0;
                const duration = 2000;
                const startTime = Date.now();
                
                const animate = () => {
                    const elapsed = Date.now() - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    current = finalValue * progress;
                    
                    if (progress < 1) {
                        if (isRating) {
                            stat.textContent = current.toFixed(1) + '/5';
                        } else {
                            stat.textContent = Math.floor(current) + '+';
                        }
                        requestAnimationFrame(animate);
                    } else {
                        stat.textContent = originalText;
                        addLog('Animation complete for stat ' + index);
                    }
                };
                
                stat.textContent = isRating ? '0.0/5' : '0+';
                requestAnimationFrame(animate);
            });
        }

        window.addEventListener('load', () => {
            addLog('Page loaded, starting animation in 500ms');
            setTimeout(() => {
                animateCounters();
            }, 500);
        });
    </script>
</body>
</html>
